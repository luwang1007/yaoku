# 药库管理微信小程序

这是一个基于微信云开发构建的药库管理小程序。它提供了一个简洁、高效的界面，用于管理药品的名称和编号，支持快速添加、搜索、删除和批量数据处理。项目 UI 风格接近微信原生体验，旨在为小型诊所、药房或个人提供一个轻量级的药品库存管理工具。

## ✨ 主要功能

- **药品信息展示**：以小方块的形式清晰地展示所有药品及其编号，支持加载大量数据。
- **快速搜索**：支持按药名或编号进行模糊搜索，结果实时更新。
- **药品管理**：
  - **添加**：通过弹窗快速添加新的药品。
  - **删除**：长按任意药品，弹出确认对话框进行删除。
- **批量数据处理**：提供"批量处理"功能，可一键执行云函数，清理数据库中的无效或错误数据。

## 🚀 技术栈

- **前端**：微信小程序原生（WXML, WXSS, JavaScript）
- **后端**：微信云开发
  - **数据库**：使用云数据库存储药品信息。
  - **云函数**：为核心逻辑编写了独立的云函数，实现前后端分离。

## 🛠️ 如何使用

1.  **克隆或下载项目**：
    ```bash
    git clone https://github.com/your-username/your-repo-name.git
    ```

2.  **导入微信开发者工具**：
    - 打开微信开发者工具，选择"导入项目"。
    - 选择项目所在的文件夹。
    - **AppID**：填写你自己的小程序 AppID。
    - **项目名称**：自定义。

3.  **配置云开发环境**：
    - 在微信开发者工具中开通云开发，并获取你的**云环境ID**。
    - 打开 `miniprogram/app.js` 文件，将 `env` 字段的值替换为你的云环境ID。
      ```javascript
      // miniprogram/app.js
      wx.cloud.init({
        env: 'your-cloud-env-id' // 替换成你的云环境ID
      })
      ```

4.  **创建数据库集合**：
    - 进入云开发控制台 -> 数据库。
    - 创建一个名为 `medicines` 的集合。

5.  **部署云函数**：
    - 在微信开发者工具的左侧文件树中，找到 `cloudfunctions` 目录。
    - 右键点击目录下的每一个云函数（`addMedicine`, `deleteMedicine`, `searchMedicine`, `getAllMedicines`, `batchUpdateMedicine`），选择"**上传并部署：云端安装依赖**"。
    - 等待所有云函数部署完成。

6.  **编译运行**：
    - 点击开发者工具顶部的"编译"按钮，即可在模拟器中看到运行效果。

## ☁️ 云函数列表

- `addMedicine`: 添加新的药品。
- `deleteMedicine`: 根据编号删除药品。
- `searchMedicine`: 根据关键词搜索药品。
- `getAllMedicines`: 获取数据库中所有的药品记录（解决了小程序端每次最多取100条的限制）。
- `batchUpdateMedicine`: 批量更新数据库中的药品数据。

---

现在你可以愉快地使用和二次开发此项目了！如果觉得有帮助，欢迎给一个 Star ⭐！ 
